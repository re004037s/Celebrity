
<h1 class="txt2">進捗詳細</h1>

<h2 class="txt3">
  <%= @user.nickname %>
  [ <%= @user.name %> ]
</h2>

<h3 class="txt3 status-name">[Progate] HTML&CSS</h3>
<table class="txt1 table table-bordered table-striped table-condensed table-status">
  <thead>
    <tr>
      <th>コース</th>
      <th>ステータス</th>
      <th>完了日</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>学習コース/初級</td>
      <td><%= @user.html_css_status.try(:ga_beginner) ? '完了' : '未' %></td>
      <td><%= @user.html_css_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>学習コース/中級</td>
      <td><%= @user.html_css_status.try(:ga_middle) ? '完了' : '未' %></td>
      <td><%= @user.html_css_status.try(:updated_at) %></td>
    </tr>    
    <tr>
      <td>道場コース/初級</td>
      <td><%= @user.html_css_status.try(:do_beginner) ? '完了' : '未' %></td>
      <td><%= @user.html_css_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>道場コース/中級</td>
      <td><%= @user.html_css_status.try(:do_middle) ? '完了' : '未' %></td>
      <td><%= @user.html_css_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>道場コース/上級</td>
      <td><%= @user.html_css_status.try(:do_advanced) ? '完了' : '未' %></td>
      <td><%= @user.html_css_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>実践コース/1</td>
      <td><%= @user.html_css_status.try(:ji_1) ? '完了' : '未' %></td>
      <td><%= @user.html_css_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>実践コース/2</td>
      <td><%= @user.html_css_status.try(:ji_2) ? '完了' : '未' %></td>
      <td><%= @user.html_css_status.try(:updated_at) %></td>
    </tr>
  </tbody>
</table>


<h3 class="txt3 status-name">[Progate] JavaScript</h3>
<table class="txt1 table table-bordered table-striped table-condensed table-status">
  <thead>
    <tr>
      <th>コース</th>
      <th>ステータス</th>
      <th>完了日</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>学習コース/基礎</td>
      <td><%= @user.javascript_status.try(:ga_beginner) ? '完了' : '未' %></td>
      <td><%= @user.javascript_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>道場コース/基礎</td>
      <td><%= @user.javascript_status.try(:do_beginner) ? '完了' : '未' %></td>
      <td><%= @user.javascript_status.try(:updated_at) %></td>
    </tr>
  </tbody>
</table>

<h3 class="txt3 status-name">[Progate] Ruby</h3>
<table class="txt1 table table-bordered table-striped table-condensed table-status">
  <thead>
    <tr>
      <th>コース</th>
      <th>ステータス</th>
      <th>完了日</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>学習コース 1</td>
      <td><%= @user.ruby_status.try(:ga_1) ? '完了' : '未' %></td>
      <td><%= @user.ruby_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>学習コース 2</td>
      <td><%= @user.ruby_status.try(:ga_2) ? '完了' : '未' %></td>
      <td><%= @user.ruby_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>学習コース 3</td>
      <td><%= @user.ruby_status.try(:ga_3) ? '完了' : '未' %></td>
      <td><%= @user.ruby_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>学習コース 4</td>
      <td><%= @user.ruby_status.try(:ga_4) ? '完了' : '未' %></td>
      <td><%= @user.ruby_status.try(:updated_at) %></td>
    </tr>
    <tr>
      <td>学習コース 5</td>
      <td><%= @user.ruby_status.try(:ga_5) ? '完了' : '未' %></td>
      <td><%= @user.ruby_status.try(:updated_at) %></td>
    </tr>
  </tbody>
</table>

<h3 class="txt3 status-name">[Progate] Ruby on Rails</h3>
<table class="txt1 table table-bordered table-striped table-condensed table-status">
  <thead>
    <tr>
      <th>コース</th>
      <th>ステータス</th>
      <th>完了日</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>学習コース 1</td>
      <td><%= @user.rubyonrails_status.try(:ga_1) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 2</td>
      <td><%= @user.rubyonrails_status.try(:ga_2) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 3</td>
      <td><%= @user.rubyonrails_status.try(:ga_3) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 4</td>
      <td><%= @user.rubyonrails_status.try(:ga_4) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 5</td>
      <td><%= @user.rubyonrails_status.try(:ga_5) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 6</td>
      <td><%= @user.rubyonrails_status.try(:ga_6) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 7</td>
      <td><%= @user.rubyonrails_status.try(:ga_7) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 8</td>
      <td><%= @user.rubyonrails_status.try(:ga_8) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 9</td>
      <td><%= @user.rubyonrails_status.try(:ga_9) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 10</td>
      <td><%= @user.rubyonrails_status.try(:ga_10) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>学習コース 11</td>
      <td><%= @user.rubyonrails_status.try(:ga_11) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>道場コース 1</td>
      <td><%= @user.rubyonrails_status.try(:do_1) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>道場コース 2</td>
      <td><%= @user.rubyonrails_status.try(:do_2) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>道場コース 3</td>
      <td><%= @user.rubyonrails_status.try(:do_3) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>

    <tr>
      <td>道場コース 4</td>
      <td><%= @user.rubyonrails_status.try(:do_4) ? '完了' : '未' %></td>
      <td><%= @user.rubyonrails_status.try(:updated_at) %></td>
    </tr>
  </tbody>
</table>

<h3 class="txt3 status-name">Rails Tutorial</h3>
<table class="txt1 table table-bordered table-condensed table-status">
  <tr>
    <td>完了した章</td>
    <td><%= count_rails_tutorial(@user) %>章</td>
  </tr>
</table>

<h3 class="txt3 status-name">動画視聴</h3>

<table class="txt1 table table-bordered table-striped table-condensed table-status">
  <thead>
    <tr>
      <th>動画名</th>
      <th>ステータス</th>
      <th width=50%>感想</th>
    </tr>
  </thead>
  <% for n in 1..Movie.count do %>
    <tbody>
      <tr>
        <td><%= Movie.find(n).title %></td>
        <td><%= @user.feedbacks.find_by(movie_id: n) ? '完了' : '未' %></td>
        <td><%= @user.feedbacks.find_by(movie_id: n) ? @user.feedbacks.find_by(movie_id: n).feedback : '-' %></td>
      </tr>
    </tbody>
  <% end %>
</table>

<div class="form-button">
  <%= link_to 'ユーザ編集', edit_user_path(@user) , class: 'btn-delete btn btn-primary' %>
  <%= link_to 'ユーザ削除', @user, method: :delete, class: 'btn-delete btn btn-danger',
      data: { confirm: '本当に削除しますか？' } %>
</div>
<script type="text/javascript">
<!--
function OnOffh1(lolh1){
	if (lolh1.value == "初級完了") {
		lolh1.value = "初級完了済み";
		disabled 
	} else {
		lolh1.value = "初級完了";
	}
}
function OnOffh2(lolh2){
	if (lolh2.value == "中級完了") {
		lolh2.value = "中級完了済み";
	} else {
		lolh2.value = "中級完了";
	}
}
</script>